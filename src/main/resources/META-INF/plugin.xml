<?xml version="1.0" encoding="UTF-8"?>
<idea-plugin>
    <id>com.github.yanxianchao.gitmergeflow</id>
    <name>GitMergeFlow</name>
    <vendor email="xianchao.yan@qq.com" url="https://github.com/yanxianchao">yanxianchao</vendor>
    
    <!-- 插件图标配置 -->
    <idea-version since-build="241.14494"/>

    <description><![CDATA[
    <h3>智能Git分支自动合并插件 - 让代码合并变得简单高效</h3>
    <br/>
    <p>这是一个专为提升开发效率而设计的IntelliJ IDEA插件，帮助开发者在推送代码时自动完成分支合并操作，告别繁琐的手动合并流程。</p>
    <br/>
    <h4>✨ 核心特性：</h4>
    <ul>
    <li>在Git推送对话框中集成"推送到分支"功能</li>
    <li>智能识别并展示所有本地分支，支持快速选择</li>
    <li>项目级配置管理，不同项目设置相互独立</li>
    <li>采用安全的本地合并策略，有效避免远程冲突</li>
    <li>操作完成后自动恢复到原始分支，保持开发环境整洁</li>
    </ul>
    <br/>
    <h4>🎯 适用场景：</h4>
    <ul>
    <li>特性开发完成，需要将功能分支合并至主干分支</li>
    <li>紧急修复需要同步到多个发布分支</li>
    <li>团队协作中的持续集成和代码发布流程</li>
    <li>任何需要频繁进行分支合并的开发场景</li>
    </ul>
    <br/>
    <h4>🚀 使用体验：</h4>
    <p>操作极其简单 - 在推送代码时勾选"推送到分支"选项，从下拉列表中选择目标分支，插件将自动完成合并、推送和分支切换的全部流程。让您专注于代码开发，而非重复的Git操作。</p>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 通知组配置 -->
        <notificationGroup id="GitMergeFlow通知" displayType="BALLOON"/>
        <!-- 配置管理服务 -->
        <applicationService serviceImplementation="com.github.yanxianchao.gitmergeflow.core.ConfigurationManager"/>
        
        <!-- 启动监听器 - 确保服务初始化 -->
        <postStartupActivity implementation="com.github.yanxianchao.gitmergeflow.components.PluginStartupListener"/>

    </extensions>

    <projectListeners>
        <listener class="com.github.yanxianchao.gitmergeflow.infrastructure.PushInterceptor"
                  topic="git4idea.push.GitPushListener"/>
    </projectListeners>
</idea-plugin>